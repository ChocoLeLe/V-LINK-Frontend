import{r as f,J as v,a as x,M as V,N as _,O as t,P as y,S as o,a7 as h,a8 as u,W as a,a4 as w,a9 as d,a1 as r,aa as Q,X as p}from"./index-C1iJ-SIf.js";import{Q as q}from"./QSelect-Dbj5a7V5.js";import{Q as k}from"./QForm-DwLx3fam.js";import{Q as U}from"./QPage-DwdwnfQ2.js";import{u as G}from"./use-quasar-HUz6kOGQ.js";import{r as B}from"./user-EUZn7rTj.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QChip-3tjDRrK9.js";import"./QMenu-D30bTO2c.js";import"./position-engine-DT8R84LW.js";import"./selection-caeZJNj9.js";import"./rtl-DFPa-2ov.js";import"./format-DyQxkAtJ.js";const R={class:"column items-center q-mb-xl"},S=["src"],$={class:"col-12 col-sm-6"},z={class:"col-12 col-sm-6"},C={class:"col-12 col-sm-6"},I={class:"col-12 col-sm-6"},L={class:"col-12"},N={class:"col-12 col-sm-5"},A={class:"col-12 col-sm-7"},O={class:"col-12 q-mt-md"},D={__name:"RegisterPage",setup(F){const c=y(),m=G(),i=f(!1),s=v({account:"",password:"",name:"",email:"",phone:"",gender:"男",ageGroup:""}),g=x(()=>`https://api.dicebear.com/9.x/thumbs/svg?seed=${s.account||"v-link-seed"}`),b=async()=>{i.value=!0;try{const n={account:s.account,password:s.password,name:s.name,email:s.email,phone:s.phone||"",gender:s.gender||"其他",ageGroup:s.ageGroup||"",avatar:`https://api.dicebear.com/9.x/thumbs/svg?seed=${s.account}`};await B(n),m.notify({color:"positive",message:"註冊成功！歡迎加入 V-Link",icon:"check_circle"}),c.push("/login")}catch(n){const l=n.response?.data?.message||"註冊失敗";m.notify({color:"negative",message:l})}finally{i.value=!1}};return(n,l)=>(_(),V(U,{class:"flex flex-center bg-grey-2 q-py-xl q-px-md"},{default:t(()=>[o(h,{class:"register-card shadow-24"},{default:t(()=>[o(u,{class:"bg-primary text-white q-pa-lg text-center"},{default:t(()=>[...l[7]||(l[7]=[a("div",{class:"text-h5 text-bold"},"V-Link 智慧志工媒合系統",-1),a("div",{class:"text-subtitle2"},"建立您的志工帳號",-1)])]),_:1}),o(u,{class:"q-pa-xl"},{default:t(()=>[a("div",R,[o(w,{size:"120px",class:"shadow-5 bg-white border-primary"},{default:t(()=>[a("img",{src:g.value},null,8,S)]),_:1}),l[8]||(l[8]=a("div",{class:"text-caption text-grey-8 q-mt-sm text-bold"}," 您的專屬系統頭像 (根據帳號生成) ",-1))]),o(k,{onSubmit:b,class:"row q-col-gutter-md"},{default:t(()=>[a("div",$,[o(d,{modelValue:s.account,"onUpdate:modelValue":l[0]||(l[0]=e=>s.account=e),label:"帳號 (僅限英數字)",outlined:"",dense:"","prefix-icon":"person",rules:[e=>!!e||"請輸入帳號",e=>e.length>=4&&e.length<=20||"長度需為 4-20 個字",e=>/^[a-zA-Z0-9]+$/.test(e)||"只能輸入英數字"]},{prepend:t(()=>[o(r,{name:"person"})]),_:1},8,["modelValue","rules"])]),a("div",z,[o(d,{modelValue:s.password,"onUpdate:modelValue":l[1]||(l[1]=e=>s.password=e),label:"密碼",type:"password",outlined:"",dense:"",rules:[e=>!!e||"請輸入密碼",e=>e.length>=4||"密碼至少 4 位"]},{prepend:t(()=>[o(r,{name:"lock"})]),_:1},8,["modelValue","rules"])]),a("div",C,[o(d,{modelValue:s.name,"onUpdate:modelValue":l[2]||(l[2]=e=>s.name=e),label:"真實姓名",outlined:"",dense:"",rules:[e=>!!e||"姓名必填"]},{prepend:t(()=>[o(r,{name:"badge"})]),_:1},8,["modelValue","rules"])]),a("div",I,[o(d,{modelValue:s.phone,"onUpdate:modelValue":l[3]||(l[3]=e=>s.phone=e),label:"聯絡電話",outlined:"",dense:""},{prepend:t(()=>[o(r,{name:"phone"})]),_:1},8,["modelValue"])]),a("div",L,[o(d,{modelValue:s.email,"onUpdate:modelValue":l[4]||(l[4]=e=>s.email=e),label:"電子信箱",type:"email",outlined:"",dense:"",rules:[e=>!!e||"信箱必填",e=>/.+@.+\..+/.test(e)||"格式不正確"]},{prepend:t(()=>[o(r,{name:"email"})]),_:1},8,["modelValue","rules"])]),a("div",N,[l[9]||(l[9]=a("div",{class:"text-subtitle2 q-mb-xs text-grey-7"},"性別",-1)),o(Q,{modelValue:s.gender,"onUpdate:modelValue":l[5]||(l[5]=e=>s.gender=e),options:[{label:"男",value:"男"},{label:"女",value:"女"},{label:"其他",value:"其他"}],color:"primary",inline:""},null,8,["modelValue"])]),a("div",A,[o(q,{modelValue:s.ageGroup,"onUpdate:modelValue":l[6]||(l[6]=e=>s.ageGroup=e),label:"年齡層",outlined:"",dense:"",options:["15-22歲 青年","23-45歲 青壯年","46-64歲 中壯年","65歲以上 高齡/銀髮"],rules:[e=>!!e||"請選擇年齡層"]},{prepend:t(()=>[o(r,{name:"event"})]),_:1},8,["modelValue","rules"])]),a("div",O,[o(p,{label:"立即註冊並加入 V-Link",type:"submit",color:"primary",class:"full-width text-bold",size:"lg",loading:i.value},null,8,["loading"]),o(p,{flat:"",label:"已有帳號？返回登入",color:"grey-7",class:"full-width q-mt-sm",to:"/login"})])]),_:1})]),_:1})]),_:1})]),_:1}))}},le=P(D,[["__scopeId","data-v-d60426db"]]);export{le as default};

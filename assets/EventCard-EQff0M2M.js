import{Q as m}from"./QBadge-DZhUzhq6.js";import{L as y,ae as q,M as p,N as n,O as a,S as r,W as t,T as v,Z as s,a0 as c,_ as o,a1 as _,a8 as b,V as x,$ as C,a2 as w,U as k,a7 as Q}from"./index-D6DKEz1o.js";import{Q as S}from"./QImg-kPaKReaU.js";import{Q as V}from"./QChip-Bt-jIDad.js";import{f as B}from"./formatter-Cde3UNlN.js";import{b as N,g as T,a as $}from"./tag-colors-BBxGMC29.js";import{u as z}from"./useMatchScore-Dk32nqBb.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"absolute-top-right q-pa-xs bg-transparent column items-end q-gutter-y-xs"},D={class:"absolute-bottom text-subtitle2 text-white q-pa-xs row items-center",style:{background:"rgba(0, 0, 0, 0.6)"}},L={class:"ellipsis"},M=["title"],j={class:"text-caption text-grey row items-center q-mt-xs"},O={class:"row items-end justify-between q-mt-sm no-wrap"},P={class:"row q-gutter-xs col",style:{overflow:"hidden"}},R={key:0,class:"text-caption text-grey-5"},U={class:"col-auto text-caption q-ml-sm text-right",style:{"white-space":"nowrap"}},A={__name:"EventCard",props:{event:{type:Object,required:!0}},setup(g){const e=g,h=y(),{event:i}=q(e),{matchScore:d}=z(i);return(f,u)=>(n(),p(Q,{class:"column full-height cursor-pointer hover-card transition-generic",onClick:u[0]||(u[0]=l=>f.$router.push(`/events/${e.event._id}`))},{default:a(()=>[r(S,{src:e.event.imgUrl||`https://picsum.photos/seed/${e.event._id}/800/600`,ratio:16/9},{default:a(()=>[t("div",I,[s(h).isLoggedIn?(n(),p(m,{key:0,color:s(N)(s(d)),class:"q-py-xs q-px-sm"},{default:a(()=>[c(" 契合度 "+o(s(d))+"% ",1)]),_:1},8,["color"])):v("",!0),r(m,{color:s(T)(e.event.category?.name),class:"q-py-xs q-px-sm"},{default:a(()=>[c(o(e.event.category?.name||"未分類"),1)]),_:1},8,["color"]),r(m,{color:s($)(e.event.volunteerType?.name),class:"q-py-xs q-px-sm"},{default:a(()=>[c(o(e.event.volunteerType?.name||"一般志工"),1)]),_:1},8,["color"])]),t("div",D,[r(_,{name:"place",size:"xs",class:"q-mr-xs"}),t("div",L,o(e.event.location),1)])]),_:1},8,["src"]),r(b,{class:"q-pb-sm col-grow"},{default:a(()=>[t("div",{class:"text-h6 ellipsis-2-lines",title:s(i).title},o(s(i).title),9,M),t("div",j,[r(_,{name:"event",size:"xs"}),c(" "+o(s(B)(e.event.serviceDateRange?.start)),1)]),t("div",O,[t("div",P,[(n(!0),x(C,null,w(e.event.requiredSkills,l=>(n(),p(V,{key:l._id,size:"sm",color:"blue-1","text-color":"blue-8",class:"q-ma-none q-mr-xs q-mb-xs"},{default:a(()=>[c(o(l.name),1)]),_:2},1024))),128)),e.event.requiredSkills?.length?v("",!0):(n(),x("span",R,"不限技能"))]),t("div",U,[t("span",{class:k(e.event.approvedCount>=e.event.maxParticipants?"text-negative text-bold":"text-primary")},o(e.event.approvedCount)+" / "+o(e.event.maxParticipants),3)])])]),_:1})]),_:1}))}},Y=E(A,[["__scopeId","data-v-c1a9d452"]]);export{Y as E};
